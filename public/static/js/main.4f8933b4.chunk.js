(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{159:function(t,e,n){},160:function(t,e,n){},166:function(t,e,n){},168:function(t,e,n){},170:function(t,e,n){},465:function(t,e,n){},466:function(t,e,n){},467:function(t,e,n){},468:function(t,e,n){},469:function(t,e,n){"use strict";n.r(e);var r=n(2),c=n.n(r),i=n(18),s=n.n(i),u=(n(159),n.p,n(160),n(12)),a=n(4),o=n(11),d=n(94),j=n(147),h=n(148),l=n.n(h),p="RECEIVE_CURRENT_USER",f="LOGOUT_CURRENT_USER",b="RECEIVE_SESSION_ERRORS",A="RECEIVE_PRODUCTS",O="RECEIVE_PRODUCT",m="RECEIVE_REVIEWS",g="ADD_TO_CART",v="REMOVE_FROM_CART",x="SAVE_TO_CART",E="RECEIVE_CART",C="RECEIVE_SEARCH_TERMS",y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return e.user;case f:return{};default:return t}},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case p:return e.user;case f:return{};default:return t}},T=n(32),B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A:var n={};return e.products.map((function(t){return n[t.tcin]=t})),Object.assign({},t,n);case O:return Object.assign({},t,Object(T.a)({},e.product.tcin,e.product));default:return t}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case m:var n=e.reviews[0].ProductId;return Object.assign({},t,Object(T.a)({},n,e.reviews));default:return t}},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return Object.assign({},t,Object(T.a)({},e.item,1));case v:var n=Object.assign({},t);return Object.keys(n).length<=1?n=[]:delete n[e.itemId],n;case E:case x:return Object.assign({},t,e.cart);default:return t}},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case C:return e.searchTerms;default:return t}},S=Object(o.combineReducers)({users:w,products:B,reviews:R,cart:I,searchTerms:U}),N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return e.errors;case p:return{};default:return t}},P=Object(o.combineReducers)({session:N}),k=Object(o.combineReducers)({session:y,entities:S,errors:P}),G=n(149),D=n.n(G),F=n(150),Y={key:"root",storage:l.a},X=Object(d.a)(Y,k),L=Object(o.createStore)(X,Object(j.composeWithDevTools)(Object(o.applyMiddleware)(F.a,D.a))),Q=Object(d.b)(L),V=n(151),H=n(5),K=n(53),M=n(9),J=n.n(M),W=function(t){return function(e){return e(function(t){return{type:g,item:t}}(t))}},q=function(t){return function(e){return e(function(t){return{type:v,itemId:t}}(t))}},z=function(t,e){return function(n){return function(t,e){return J.a.ajax({type:"PUT",url:"http://localhost:3001/api/users/".concat(t,"/carts/1"),data:{cart:{ordered:!1,owner_id:t,contents:e}}})}(t,e).then((function(t){var r={};return t.contents.forEach((function(t){return r[t]=r[t]?r[t]+=1:1})),0==Object.keys(e).length&&(r={}),n(function(t){return{type:x,cart:t}}(r))}))}},Z=function(t,e){return function(n){return function(t){return J.a.ajax({type:"GET",url:"http://localhost:3001/api/users/".concat(t,"/carts/1")})}(t).then((function(t){e=[].concat(Object(K.a)(Object.values(e)),Object(K.a)(t.contents));var r={};e.forEach((function(t){return r[t]=r[t]?r[t]+=1:1})),n(function(t){return{type:E,cart:t}}(r))}))}},_="aa3a6f134dmshf42b60c8bcee96ep1ef782jsn78b48b995001",$=function(t){return t=t.split(" ").join("%20"),J.a.ajax({async:!0,crossDomain:!0,url:"https://target1.p.rapidapi.com/products/list?storeId=911&endecaId=5xtg6&pageSize=20&pageNumber=1&sortBy=relevance&searchTerm=".concat(t),method:"GET",headers:{"x-rapidapi-key":_,"x-rapidapi-host":"target1.p.rapidapi.com"}})},tt=function(t){return function(e){return $(t).then((function(t){return e((n=t.products,{type:A,products:n}));var n}))}},et=function(t){return function(e){return function(t){return J.a.ajax({async:!0,crossDomain:!0,url:"https://target1.p.rapidapi.com/products/get-details?tcin=".concat(t,"&store_id=911"),method:"GET",headers:{"x-rapidapi-key":_,"x-rapidapi-host":"target1.p.rapidapi.com"}})}(t).then((function(t){var n=t.product||t.data.product;return e(function(t){return{type:O,product:t}}(n))}))}},nt=n(91),rt=n.n(nt),ct=n(152),it=(n(98),n(166),n(1)),st=function(t){var e=t.products,n=t.cart,c=t.currentUser,i=t.removeFromCart,s=t.fetchProduct,u=(t.receiveCart,t.saveCart);Object(r.useEffect)((function(){c.id&&u(c.id,n)}),[]);function a(){return(a=Object(ct.a)(rt.a.mark((function t(e){return rt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s(e));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var o=function(t){if(void 0===t||"Tcin not found."===Object.values(t)[0])return null;var e,r=t.price.current_retail||t.price.current_retail_max;return d+=r,Object(it.jsxs)("li",{className:"cart-items",children:[Object(it.jsx)("img",{src:(e=t,e.images?e.images.primaryUri:e.item.enrichment.images.primary_image_url)}),Object(it.jsx)("p",{children:t.title||t.name}),Object(it.jsx)("input",{type:"button",value:"remove?",onClick:function(){return e=t.tcin,void new Promise((function(t){return t(i(e))})).then((function(t){var e=Object.keys(n).filter((function(e){return e!=t.itemId}));u(c.id,e)}));var e}})]})};if(n==={}||void 0===n)return null;var d=0;return Object(it.jsxs)("div",{className:"icon cart-icon",children:[Object(it.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAACkElEQVR4nO2bT4hNURzHP+95ihp/FtRkhGQlRbGgWSHJFAtRVixZULOSqNkpsjMLMmWDspA1FlZWI4rkf0nydzNSmnmGeRbnPPfN7Z658zj3fL37zqdOt36/0/l97/eee8553R5EuAaMAV9T7QOwXqgrGE+BhqMdF+oKQg3oB1YDlZb4WWAbUFWICkkNM/0fpOJjAi0SSv+E84gGqAWoiQaoBaiJBqgFqKnl5PuATSGE/G/cwH08LlXLmwETQH32vnUMVWDBTB2aM+BEEDnhWYOdAV2/CEYD1ALURAPUAtREA9QC1EQD1ALURAPUAtREA9QC1EQD1ALURAPUAtREA9QC1EQD1ALURAPUAtREA9QC1HS9AXnfBtcB+0IICUxvXof4ddjyHviU51YZKfvX4T90/SIYDVALUBMNUAtQk7cNHqWzD0J14DDwxNXBZcA7e+2zrZPpZwYDKo74QmA7MMeR3w0cdOTuACOzVdcGg5ibyeICcDcjXgduAz98CtkCTGIOSi+A08AQcJ/kiHnAZ0HgSMvY94BTwBngjY2NY363BGHUFr0FzGuJV4FLNvcZmOupXg/wzY57jumztgdjSAMz8wpnBcmTWJmRn08idqunmnvteB/JNnWDzf8CFrU7eLvb4HJ7/QK8zciPA89Sff+V5jiPMK9emsfAT8y9LPNU08lSjNtTwOKMfAVjTgPY7KnmLjveK0d+lc1PMv2VLIyXtuBwRm7Q5r57FLMEs4o3gEMZ+Ss2N+qpXi4DJOvATcw7OoBZAKds/JjnmkMk7/l5YCewH7MQN+OuLbIQTpJshel2Eff54m+pAVcd9SYwJ9bgbAQuYxah55g/Ye8ouOYe4DrwGniImXVrC65Zbn4DvYP7Y/DicpMAAAAASUVORK5CYII="}),Object(it.jsxs)("ul",{className:"cart-preview",children:[Object.keys(n).map((function(t){var n=e[t];if(n.images)return o(n);(function(t){return a.apply(this,arguments)})(t).then((function(){return o(e[t])}))})),Object(it.jsx)("p",{children:0==d?"No Items in Cart :(":d})]})]})},ut=Object(a.b)((function(t){return{cart:t.entities.cart,currentUser:t.session,products:t.entities.products}}),(function(t){return{removeFromCart:function(e){return t(q(e))},receiveCart:function(e,n){return t(Z(e,n))},saveCart:function(e,n){return t(z(e,n))},fetchProduct:function(e){return t(et(e))}}}))(st),at=function(t){return function(e){return(n=t,n=n.split(" ").join("%20"),J.a.ajax({async:!0,crossDomain:!0,url:"https://target1.p.rapidapi.com/auto-complete?q=".concat(n),method:"GET",headers:{"x-rapidapi-key":"aa3a6f134dmshf42b60c8bcee96ep1ef782jsn78b48b995001","x-rapidapi-host":"target1.p.rapidapi.com"}})).then((function(t){return e(function(t){return{type:C,searchTerms:t}}(t.suggestions))}));var n}},ot=n(64),dt=n(65),jt=n(67),ht=n(66),lt=(n(168),Object(H.f)((function(t){var e=t.results,n=t.input,r=t.history;if(""==n)return null;try{return Object(it.jsx)("ul",{id:"search-dropdown",children:e.map((function(t){return Object(it.jsx)("li",{onClick:function(t){return function(t){var e=t.target.textContent.split(" ").join("%20");r.push("/search/".concat(e)),r.go()}(t)},children:t.label},t.id)}))})}catch(c){return null}}))),pt=n.p+"static/media/store-search.1d92f967.png",ft=function(t){Object(jt.a)(n,t);var e=Object(ht.a)(n);function n(t){var r;return Object(ot.a)(this,n),(r=e.call(this,t)).state={input:"",results:r.props.searchTerms},r}return Object(dt.a)(n,[{key:"componentDidUpdate",value:function(t,e){JSON.stringify(this.state.input)!==JSON.stringify(e.input)&&this.props.fetchSearchSuggestions(this.state.input)}},{key:"handleChanges",value:function(t){this.setState({input:t.target.value,results:this.props.searchTerms})}},{key:"returnSearchSuggestions",value:function(){return Object(it.jsx)("ul",{children:Object.values(this.state.results).map((function(t){return Object(it.jsx)("li",{children:t.label})}))})}},{key:"handleSubmit",value:function(){var t=this,e=this.props.history,n=this.state.input.split(" ").join("%20");e.push("/search/".concat(n)),setTimeout((function(e){t.props.history.go()}),10)}},{key:"render",value:function(){var t=this;return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsxs)("form",{onSubmit:function(){return t.handleSubmit()},children:[Object(it.jsx)("input",{type:"text",id:"search-bar",onChange:function(e){return t.handleChanges(e)},placeholder:"Search",value:this.state.input}),Object(it.jsx)("button",{id:"search-button",style:{backgroundImage:"url(".concat(pt,")")}})]}),Object(it.jsx)(lt,{results:this.props.searchTerms,input:this.state.input})]})}}]),n}(c.a.Component),bt=Object(H.f)(ft),At=Object(a.b)((function(t){return{searchTerms:t.entities.searchTerms}}),(function(t){return{fetchSearchSuggestions:function(e){return t(at(e))},fetchProductsByKeyword:function(e){return t($(e))}}}))(bt),Ot=Object(H.f)((function(t){var e=t.currentUser,n=t.logout,r=t.history;return Object(it.jsxs)("div",{className:"header-container",children:[Object(it.jsxs)("section",{className:"header-1",children:[Object(it.jsxs)(u.b,{className:"home",to:"/",children:[Object(it.jsx)("img",{src:"data:image/png;base64,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"}),Object(it.jsx)("h1",{className:"logo",children:"Store"})]}),Object(it.jsx)("div",{children:Object(it.jsx)(At,{})})]}),Object(it.jsxs)("section",{className:"header-2",children:[Object(it.jsx)("div",{children:Object(it.jsx)("ul",{children:["clothes","furniture","electronics","plants"].map((function(t){return Object(it.jsx)("li",{className:"category",onClick:function(){r.push("/search/".concat(t,"%20at%20target")),r.go()},children:t})}))})}),Object(it.jsxs)("section",{children:[Object(it.jsxs)("div",{className:"icon user-icon",children:[Object(it.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAADsUlEQVR4nO2az0sWQRjHP5ZWiqa91SGtEFMyxAKhoB9QUBBBh0LroB69ewk61qUw+gFd6w8o9VCXThnUxSBJtISysiTLkOwlSjB9DTvMvLy+4+6++zozu6+9+4E5zPvufr/Pzu7OzjwzEBERERERkbcUhOC5A9gFVALb5G/fgElgDJgIISbrNACXgWFgMUMZlsc2hBCnceqAXjJftFvplRqrjkLgBpBg5RefLAngutQ0jo0+YBPQA5xw+T8BDACfEe89iP5gJ7AfKHI5rw84B/w0FqkFKoFRnO9kP9AGVHicXyGP6XfRGJUeOUkx4s6qQX8Cmleg1yzPVfUGpFdOUQB0szzYPiCmoRuTGqrufZ1gbdDG8iC7gbUGtAsRfYqq32pA2wjrWP6ovsTsY1oCDCoeH6V36HSSHtgfoMaCT43UXurVacEna96SHtRNi163FK83Fr18sYf0gGbR6/QyEWP5U1CvI7hGM6AzSr0PiGtqehGXHl4xZIVuAxxU6g819fzwQKkf0hHTbYAqpT6sqeeHV0pda2So2wCq+aTjUWZRPUIdGs+T3iEF8V1er3jO6YjpPgE/lPoWTT0/qB5qDFmh2wBhPI5GXzvdBviq1Pdp6vlhr1IPtQGeK3Wtb7JPzir1/gA8XVn1I0ET5PVcAIKdDc4pXjkxG3TKBwySR/kAcM8ImUhl53xGCOzmBJ846OZcThC8s8ItK9BrwTkr/IIczAonybQu0E7mdYF2AlwXCHNlaILUSLIKsWp8APd+4zFwnhxfGUpSiFjPM7E2OI/FtUHb1OHcg/stPUBt4FFboAG4BAyR+aKH5LGB7A8IY4fIdlI7RJId2iSpHSJfQogpIiIiIj8J8itQhJjT1wFbgVKgTP73G5gBvgPvEVPdRBBB2WyAzcBx4BhwFNiN/w0TfxHj/mfAU8SMUCv9HRQliHn6I8wMg5MlITVbpUfOEUOM3qYxd9FuZVp6GUm+6r4CG4CLwAXEO+3FImKU9wGxR/AX4r1HnrsRsVewFjFazBTbDGIz5jVEHjJwTiOGrl536zXQBZwkcwMtpVSe0yU1vDzGZCyBUQzc9QgojrgrjQY9G6Vm3MP3DgFkiuqBEZcApvD3KuhQKj2mXGIYweJCyRGc78ACcBsot2XsQLn0XHCIJw4cNm14CrHspZq9A5pMm2VBE2LgpMY1i4jZGNXAuGJyj9RILkzKEGnypbGNI2I2SjWpRrhiWtwAV7F48UmqgQ5b4gbowOLFR0RE/H/8A+Dc1CKEFAu9AAAAAElFTkSuQmCC"}),e.id?Object(it.jsxs)("h1",{className:"user-options",children:["Welcome, ",e.username,"!",Object(it.jsx)("button",{onClick:function(){return n()},children:"Logout"})]}):Object(it.jsxs)("div",{className:"user-options",children:[Object(it.jsx)("h2",{children:"Welcome, Guest!"}),Object(it.jsxs)("section",{children:[Object(it.jsx)(u.b,{to:"/signup",children:Object(it.jsx)("button",{children:"Sign up"})}),Object(it.jsx)(u.b,{to:"/login",children:Object(it.jsx)("button",{children:"Login"})})]})]})]}),Object(it.jsx)(ut,{})]})]})]})}));window.$=J.a,window.jQuery=J.a;var mt=function(t){return{type:p,user:t}},gt=function(t){return function(e){return e({type:"START_LOADING"}),function(t){return J.a.ajax({type:"POST",url:"http://localhost:3001/api/sessions",data:t})}(t).then((function(t){return e(mt(t))}))}},vt=function(t){return function(e){return e({type:"START_LOADING"}),function(t){return J.a.ajax({type:"POST",url:"http://localhost:3001/api/users",data:t})}(t).then((function(t){return e(mt(t))}))}},xt=function(){return function(t){return t({type:"START_LOADING"}),J.a.ajax({type:"DELETE",url:"http://localhost:3001/api/sessions"}).then((function(){return t({type:f})}))}},Et=Object(a.b)((function(t){return{currentUser:t.session}}),(function(t){return{signup:function(e){return t(vt(e))},login:function(e){return t(gt(e))},logout:function(){return t(xt())}}}))(Ot),Ct=n(52),yt=(n(170),function(t){Object(jt.a)(n,t);var e=Object(ht.a)(n);function n(t){var r;return Object(ot.a)(this,n),(r=e.call(this,t)).state={username:"",password:""},r.handleInput=r.handleInput.bind(Object(Ct.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(Ct.a)(r)),r}return Object(dt.a)(n,[{key:"setEmptyState",value:function(){this.setState({username:"",password:""})}},{key:"handleInput",value:function(t){this.setState(Object(T.a)({},t.target.id,t.target.value))}},{key:"handleSubmit",value:function(){var t=this;this.props.processForm({user:this.state}).then((function(e){t.props.receiveCart(e.user.id)})),this.setState({username:"",password:""})}},{key:"handleLinkTo",value:function(){return"login"===this.props.formType?"signup?":"login?"}},{key:"handleErrors",value:function(){return this.props.errors?Object.values(this.props.errors):[]}},{key:"render",value:function(){var t=this;return Object(it.jsxs)("div",{className:"session-page",children:[Object(it.jsxs)("div",{className:"toggle-session",children:[Object(it.jsx)("h1",{children:"Welcome!"}),Object(it.jsx)(u.b,{to:this.handleLinkTo(),children:Object(it.jsx)("button",{children:this.handleLinkTo()})})]}),Object(it.jsxs)("form",{className:"session-form",onSubmit:this.handleSubmit,children:[this.handleErrors().map((function(t){return Object(it.jsx)("p",{children:t})})),Object(it.jsx)("h1",{children:"login"===this.props.formType?"Sign In":"Create Account"}),Object(it.jsx)("input",{type:"text",placeholder:"Username",id:"username",onChange:function(e){return t.handleInput(e)},value:this.state.username}),Object(it.jsx)("input",{type:"password",placeholder:"Password",id:"password",onChange:function(e){return t.handleInput(e)},value:this.state.password}),Object(it.jsx)("button",{type:"submit",onSubmit:function(){return t.handleSubmit()},children:"Submit"})]})]})}}]),n}(c.a.Component)),wt=Object(a.b)((function(t){return{errors:t.errors.session,formType:"signup",currentUser:t.session}}),(function(t){return{processForm:function(e){return t(vt(e))},receiveCart:function(e){return t(Z(e,{}))}}}))(yt),Tt=Object(a.b)((function(t){return{errors:t.errors.session,formType:"login",currentUser:t.session}}),(function(t){return{processForm:function(e){return t(gt(e))},receiveCart:function(e){return t(Z(e,{}))}}}))(yt),Bt=(n(171),n(465),Object(H.f)((function(t){var e=t.product,n=t.history,r=t.addToCart,c=t.saveCart,i=t.cart,s=t.currentUser;if(Object.values(e)[0]==["Tcin not found."])return null;return Object(it.jsxs)("div",{className:"product-display",children:[Object(it.jsxs)("div",{id:e.tcin,onClick:function(){n.push("/product/".concat(e.tcin))},children:[Object(it.jsx)("img",{className:"product-image",src:"".concat(e.images?e.images.primaryUri:e.item.enrichment.images.primary_image_url)}),Object(it.jsxs)("div",{className:"product-info",children:[Object(it.jsx)("h2",{children:e.price.formatted_current_price}),Object(it.jsx)("h2",{children:e.title})]})]}),Object(it.jsx)("input",{className:"plus-button",type:"button",value:"+",onClick:function(){return t=e.tcin,void new Promise((function(e){return e(r(t))})).then((function(t){var e=[].concat(Object(K.a)(Object.keys(i)),[t.item]);c(s.id,e)}));var t}})]})}))),Rt=Object(a.b)((function(t,e){return{product:e.product,cart:t.entities.cart,currentUser:t.session}}),(function(t){return{addToCart:function(e){return t(W(e))},saveCart:function(e){return t(z(e))}}}))(Bt),It=(n(466),Object(H.f)((function(t,e){var n=t.fetchProductsByKeyword,c=t.products;t.history,t.currentUser,t.cart,t.receiveCart;return Object(r.useEffect)((function(){n("shoe")}),[]),Object(it.jsx)("div",{className:"vertical-lists",children:Object.values(c).map((function(t){return Object(it.jsx)(Rt,{product:t})}))})}))),Ut=Object(a.b)((function(t){return{products:t.entities.products,cart:t.entities.cart,currentUser:t.session}}),(function(t){return{fetchProductsByKeyword:function(e){return t(tt(e))},receiveCart:function(e,n){return t(Z(e,n))}}}))(It),St=function(t){return function(e){return function(t){return J.a.ajax({async:!0,crossDomain:!0,url:"https://target1.p.rapidapi.com/reviews/list?tcin=".concat(t,"&sort=time_desc&limit=30&offset=0"),method:"GET",headers:{"x-rapidapi-key":_,"x-rapidapi-host":"target1.p.rapidapi.com"}})}(t).then((function(t){var n=t.result;return e({type:m,reviews:n})}))}},Nt=(n(467),function(t){var e=t.fetchReviews,n=t.reviews,c=t.productId;Object(r.useEffect)((function(){e(c)}),[]);try{return Object(it.jsxs)("section",{className:"review-container",children:[Object(it.jsx)("h2",{children:"Reviews"}),n[c].map((function(t){return Object(it.jsxs)("div",{className:"review",children:[Object(it.jsx)("h3",{children:t.Title}),Object(it.jsx)("p",{children:t.ReviewText}),Object(it.jsxs)("p",{children:["- ",t.UserNickname]})]})})),")"]})}catch(i){return null}}),Pt=Object(a.b)((function(t,e){return{reviews:t.entities.reviews,productId:e.productId}}),(function(t){return{fetchReviews:function(e){return t(St(e))}}}))(Nt),kt=(n(468),Object(H.f)((function(t){var e=t.fetchProduct,n=t.products,c=t.match,i=parseInt(c.params.product_id);Object(r.useEffect)((function(){e(i)}),[]);var s;try{var u=n[i];return Object(it.jsxs)(it.Fragment,{children:[Object(it.jsxs)("div",{className:"product-details",children:[Object(it.jsxs)("section",{className:"description",children:[Object(it.jsx)("h2",{children:(s=u.title,s.split(" - ")[0])}),Object(it.jsx)("p",{children:u.description}),Object(it.jsxs)("p",{children:[u.price.formatted_current_price,Object(it.jsx)("input",{type:"button",value:"Add to Cart"})]})]}),Object(it.jsx)("img",{src:"".concat(u.images.primaryUri)})]}),Object(it.jsx)(Pt,{productId:i})]})}catch(a){return null}}))),Gt=Object(a.b)((function(t){return{products:t.entities.products}}),(function(t){return{fetchProduct:function(e){return t(et(e))}}}))(kt),Dt=function(t){var e=t.results,n=t.fetchProductsByKeyword,c=t.match;Object(r.useEffect)((function(){n(c.params.search_terms)}),[]);try{return Object(it.jsx)("div",{className:"vertical-lists",children:Object.values(e).map((function(t){return Object(it.jsx)(Rt,{product:t})}))})}catch(i){return null}},Ft=Object(a.b)((function(t){return{results:t.entities.products}}),(function(t){return{fetchProductsByKeyword:function(e){return t(tt(e))}}}))(Dt),Yt=function(t,e){var n=t.cart,r=(t.currentUser,t.products);return Object(it.jsx)("ul",{children:Object.keys(n).map((function(t){var n,c=r[n=t]?r[n]:new Promise(e.fetchProduct(n)).then((function(){return r[n]}));return Object(it.jsx)("li",{children:c})}))})},Xt=Object(a.b)((function(t){return{cart:t.entities.cart,currentUser:t.session,products:t.entities.products}}),(function(t){return{removeFromCart:function(e){return t(q(e))},receiveCart:function(e,n){return t(Z(e,n))},saveCart:function(e,n){return t(z(e,n))},fetchProduct:function(e){return t(et(e))}}}))(Yt),Lt=function(){return Object(it.jsxs)("div",{children:[Object(it.jsx)("header",{children:Object(it.jsx)(Et,{})}),Object(it.jsx)(H.a,{path:"/signup",component:wt}),Object(it.jsx)(H.a,{path:"/login",component:Tt}),Object(it.jsxs)(H.c,{children:[Object(it.jsx)(H.a,{exact:!0,path:"/cart",component:Xt}),Object(it.jsx)(H.a,{exact:!0,path:"/search/:search_terms",component:Ft}),Object(it.jsx)(H.a,{exact:!0,path:"/product/:product_id",component:Gt}),Object(it.jsx)(H.a,{exact:!0,path:"/",component:Ut})]})]})},Qt=function(t){var e=t.store;return Object(it.jsx)(a.a,{store:e,children:Object(it.jsx)(V.a,{persistor:Q,children:Object(it.jsx)(u.a,{children:Object(it.jsx)(Lt,{})})})})};var Vt=function(){return Object(it.jsx)("div",{className:"App",children:Object(it.jsx)(Qt,{store:L})})},Ht=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,470)).then((function(e){var n=e.getCLS,r=e.getFID,c=e.getFCP,i=e.getLCP,s=e.getTTFB;n(t),r(t),c(t),i(t),s(t)}))};window.$=J.a,window.jQuery=J.a,s.a.render(Object(it.jsx)(c.a.StrictMode,{children:Object(it.jsx)(Vt,{})}),document.getElementById("root")),Ht()},98:function(t,e,n){}},[[469,1,2]]]);
//# sourceMappingURL=main.4f8933b4.chunk.js.map